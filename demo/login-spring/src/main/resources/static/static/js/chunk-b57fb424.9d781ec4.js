(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b57fb424"],{"24f5":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("el-container",{staticClass:"main-container"},[e("el-header",{staticClass:"top-div"},[e("p",[t._v("车牌识别系统")])]),e("el-container",{staticClass:"bottom-div"},[e("el-aside",{staticClass:"left-side"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[e("el-menu-item",{attrs:{index:"1"}},[e("a",{attrs:{href:"/index"}},[t._v("首页")])]),e("el-menu-item",{attrs:{index:"2"}},[e("a",{attrs:{href:"/upload"}},[t._v("上传测试车牌")])]),e("el-menu-item",{attrs:{index:"3"}},[e("a",{attrs:{href:"/ceshi"}},[t._v("历史测试车牌")])])],1)],1),e("div",{staticClass:"right-side-upload"},[e("div",{staticClass:"img"},[e("div",{staticClass:"left-img"},[e("div",{staticClass:"left-file-input"},[e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.previewImage}}),e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("选取文件")])],1),e("div",{staticClass:"image-preview-1"},[e("img",{attrs:{src:t.imagePreview1,alt:"请上传照片"}})])]),e("div",{staticClass:"right-img"},[e("div",{staticClass:"right-file-output"},[e("el-button",{attrs:{type:"success"},on:{click:t.submitUpload}},[t._v("识别")])],1),e("div",{staticClass:"image-preview-2"},[e("img",{attrs:{src:t.imagePreview2,alt:"待识别结果"}})])]),e("div",{staticClass:"clearfix"}),t.recognitionResult?e("el-alert",{attrs:{title:"识别结果",closable:!1,"show-icon":!0,type:"success"}},[t._v(" "+t._s(t.recognitionResult)+" ")]):t._e()],1)])],1)],1)],1)},a=[],r={data(){return{imagePreview1:"",imagePreview2:"",recognitionResult:""}},methods:{previewImage(t){const e=t.target.files[0];e&&(this.imagePreview1=URL.createObjectURL(e))},async submitUpload(){const t=this.$refs.fileInput.files[0];if(!t)return void alert("请先选择文件");const e=new FormData;e.append("file",t);try{const t=await this.$axios.post("http://localhost:8080/api/upload",e,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});if(200===t.status){const e=t.data;this.imagePreview2="data:image/jpeg;base64,"+e.image,this.recognitionResult=e.prediction}}catch(i){console.error("上传出错:",i.response?i.response.data:i),alert(i.response?i.response.data.error:"上传出错")}}}},l=r,n=(i("eb18"),i("2877")),c=Object(n["a"])(l,s,a,!1,null,null,null);e["default"]=c.exports},c1e1:function(t,e,i){},eb18:function(t,e,i){"use strict";i("c1e1")}}]);